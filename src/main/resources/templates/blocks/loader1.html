<div th:fragment="loader">
    <style type="text/css">
    .preloader
    {
      position: fixed;
      display: flex;
      justify-content: center;
      align-items: center;
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
      z-index: 1001;
      min-width: 100%;
      min-height: 100%;
      background: rgba(0,0,0,0.5);
      backdrop-filter: blur(8px);
    }
    .preloader h1
    {
      position: absolute;
      bottom: 20%;
      color: #fff;
      text-transform: uppercase;
    }
    .preloader .loader
    {
      position: relative;
      display: flex;
      background: #f5f5f5;
      padding: 10px;
      border-radius: 50px;
      border: 6px solid #f5f5f5;
      box-shadow: inset 3px 3px 5px rgba(0,0,0,0.1),
      inset -1px -1px 5px rgba(255,255,255,1);
    }
    .preloader .loader span
    {
      position: relative;
      width: 50px;
      height: 50px;
      margin: 0 10px;
      background: #eaeef0;
      border-radius: 50%;
      border: 6px solid #eaeef0;
      box-shadow: -8px -8px 15px rgba(255,255,255,1),
      8px 8px 15px rgba(0,0,0,0.2),
      inset 3px 3px 5px rgba(0,0,0,0.1),
      inset -1px -1px 5px rgba(255,255,255,1);
    }
    .preloader .loader span::before
    {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      background: #2fff00;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      box-shadow: inset 3px 3px 5px rgba(0,0,0,0.1),
      inset -1px -1px 5px rgba(255,255,255,1);
      transform: scale(0);
      animation: loader-scale 3.5s linear infinite, loader-color 5s linear infinite;
      animation-delay: calc(var(--i) * 0.2s);
    }
    @keyframes loader-scale {
    0%, 9.99%, 70.0001% {
        transform: scale(0);
    }
    10%, 70% {
        transform: scale(1);
    }
    }
    @keyframes loader-color {
        0% {
            filter: hue-rotate(0deg);
        }
        100% {
            filter: hue-rotate(360deg);
        }
    }
    .loaded_hiding .preloader {
      transition: 0.3s opacity;
      opacity: 0;
    }
    .loaded .preloader {
      display: none;
    }
    @media only screen and (max-width: 1080px)
    {
      .preloader .loader span
      {
        width: 25px;
        height: 25px;
        margin: 0 5px;
      }
    }
  </style>
    <div class="preloader">
    <h1>Загрузка...</h1>
      <div class="loader">
        <span style="--i:0"></span>
        <span style="--i:1"></span>
        <span style="--i:2"></span>
        <span style="--i:3"></span>
        <span style="--i:4"></span>
        <span style="--i:5"></span>
    </div>
    </div>

    <script>
      window.onload = function () {
        document.body.classList.add('loaded_hiding');
        window.setTimeout(function () {
          document.body.classList.add('loaded');
          document.body.classList.remove('loaded_hiding');
        }, 500);
      }
    </script>
</div>